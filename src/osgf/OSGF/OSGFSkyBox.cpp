#include "OSGFSkyBox.h"
void OSGFSkyBox::Initialize()
{
	if(IsInitialized())return;
	OSGF3DModel::Initialize();
	InitVertices();
	InitIndices();
	D3D10_INPUT_ELEMENT_DESC vertexDesc[] =
	{
		{"POSITION", 0, DXGI_FORMAT_R32G32B32_FLOAT, 0, 0, D3D10_INPUT_PER_VERTEX_DATA, 0},
		{"TEXTURE",  0, DXGI_FORMAT_R32G32_FLOAT, 0, 12, D3D10_INPUT_PER_VERTEX_DATA, 0}
	};
	CreateInputLayout(vertexDesc,2);
}
void OSGFSkyBox::InitVertices()
{
	Vertex vertices[] =
	{
		{D3DXVECTOR3(-0.495936, 0.493048,-0.496914), D3DXVECTOR2( 0.000000,0.000000)},// 1
		{D3DXVECTOR3(-0.495936,-0.490884,-0.496914), D3DXVECTOR2( 0.000000,1.000000)},// 2
		{D3DXVECTOR3( 0.497402, 0.493048,-0.496914), D3DXVECTOR2( 1.000000,0.000000)},// 2
		{D3DXVECTOR3( 0.497402,-0.490884,-0.496914), D3DXVECTOR2( 1.000000,1.000000)},// 3
		{D3DXVECTOR3( 0.497402, 0.493048,-0.496914), D3DXVECTOR2( 0.000000,0.000000)},// 4
		{D3DXVECTOR3( 0.497402,-0.490884,-0.496914), D3DXVECTOR2( 0.000000,1.000000)},// 5
		{D3DXVECTOR3( 0.497402, 0.493048, 0.495831), D3DXVECTOR2( 1.000000,0.000000)},// 6
		{D3DXVECTOR3( 0.497402,-0.490884, 0.495831), D3DXVECTOR2( 1.000000,1.000000)},// 7 
		{D3DXVECTOR3( 0.497402, 0.493048, 0.495831), D3DXVECTOR2( 0.000000,0.000000)},// 8
		{D3DXVECTOR3( 0.497402,-0.490884, 0.495831), D3DXVECTOR2( 0.000000,1.000000)},// 9
		{D3DXVECTOR3(-0.495936, 0.493048, 0.495831), D3DXVECTOR2( 1.000000,0.000000)},//10
		{D3DXVECTOR3(-0.495936,-0.490884, 0.495831), D3DXVECTOR2( 1.000000,1.000000)},//11
		{D3DXVECTOR3(-0.495936, 0.493048, 0.495831), D3DXVECTOR2( 0.000000,0.000000)},//12
		{D3DXVECTOR3(-0.495936,-0.490884, 0.495831), D3DXVECTOR2( 0.000000,1.000000)},//13
		{D3DXVECTOR3(-0.495936, 0.493048,-0.496914), D3DXVECTOR2( 1.000000,0.000000)},//14
		{D3DXVECTOR3(-0.495936,-0.490884,-0.496914), D3DXVECTOR2( 1.000000,1.000000)},//15
		{D3DXVECTOR3(-0.495936, 0.493048,-0.496914), D3DXVECTOR2( 0.000000,1.000000)},//16
		{D3DXVECTOR3( 0.497402, 0.493048,-0.496914), D3DXVECTOR2( 1.000000,1.000000)},//17
		{D3DXVECTOR3(-0.495936,-0.490884,-0.496914), D3DXVECTOR2( 0.000000,0.000000)},//18
		{D3DXVECTOR3( 0.497402,-0.490884,-0.496914), D3DXVECTOR2( 1.000000,0.000000)} //19

	};
	CreateVertexBuffer(vertices,sizeof(vertices),sizeof(Vertex));
}
void OSGFSkyBox::InitIndices()
{
	DWORD indices[] = {
		0,2,1,
        1,2,3,
        
        4,6,5,
        5,6,7,
        
        8,10,9,
        9,10,11,
        
        12,14,13,
        13,14,15,
        
        12,6,16,
        16,6,17,
        
        18,19,13,
        13,19,7
	};
	CreateIndexBuffer(indices,sizeof(indices));
}
